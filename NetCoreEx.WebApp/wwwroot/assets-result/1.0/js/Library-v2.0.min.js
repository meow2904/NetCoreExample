var objSwal={title:"Thông báo",html:"",width:null,footer:null,icon:"",textConfirm:"Xác nhận",textCancel:"Đóng",timer:null,showCloseButton:!(toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toastr-top-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}),showCancelButton:!0,focusCancel:!1,showConfirmButton:!0,allowOutsideClick:!0};function ResetSwalDefault(){objSwal.title="Thông báo",objSwal.html="",objSwal.width=null,objSwal.footer=null,objSwal.type="",objSwal.textConfirm="Xác nhận",objSwal.textCancel="Đóng",objSwal.timer=null,objSwal.showCloseButton=!1,objSwal.showCancelButton=!0,objSwal.focusCancel=!1,objSwal.showConfirmButton=!0,objSwal.allowOutsideClick=!0}function AjaxPostAsync(t,e,n){AjaxRequestClientAPI("POST",t,e,n,!0,"text")}function AjaxGetAsync(t,e,n){AjaxRequestClientAPI("GET",t,e,n,!0,"text")}function AjaxPutAsync(t,e,n){AjaxRequestClientAPI("PUT",t,e,n,!0,"text")}function AjaxDeleteAsync(t,e,n){AjaxRequestClientAPI("DELETE",t,e,n,!0,"text")}function AjaxPost(t,e,n){AjaxRequestClientAPI("POST",t,e,n,!1,"text")}function AjaxGet(t,e,n){AjaxRequestClientAPI("GET",t,e,n,!1,"text")}function AjaxPut(t,e,n){AjaxRequestClientAPI("PUT",t,e,n,!1,"text")}function AjaxDelete(t,e,n){AjaxRequestClientAPI("DELETE",t,e,n,!1,"text")}function AjaxRequestClientAPI(t,e,n,o,r,a){var i=void 0,s=void 0;null!=n&&(i=n.parameters,s=n.divLoading),void 0!==s&&""!==s&&StartLoading(s),$.ajax({type:void 0===t?"POST":t,url:void 0===e?"":e,contentType:"application/json; charset=utf-8",data:void 0===i?"":JSON.stringify(i),dataType:void 0===a?"text":a,async:void 0===r||r,crossDomain:!1,beforeSend:function(t){t.setRequestHeader("Content-Type","application/json")},success:function(t){if(t.includes("LoginHrmSystem"))return StopLoading(s),void SwalNotifyError("Vui lòng đăng nhập lại tài khoản");void 0!==o&&"function"==typeof o&&o(t),void 0!==s&&""!==s&&StopLoading(s)},error:function(t,e){void 0!==s&&""!==s&&StopLoading(s),400===t.status||401===t.status?(console.log("StatusText: "+t.statusText+", Message: "+t.responseText),SwalMessage(t.responseText,"Thông báo",void 0,"error")):(t=void 0!==t.responseText?t.responseText:e,console.log(t),SwalNotifyError("Có lỗi xảy ra. Xin vui lòng thử lại sau hoặc thông báo với quản trị. Chi tiết: F12"))}})}function AjaxLoadPartial(t,e,n){AjaxRequestPartial(t,e,n)}function AjaxPostLoadPartial(t,e,n){AjaxPostPartial(t,n,e)}function AjaxRequestPartial(t,n,e){void 0!==n&&""!==n&&StartLoading(n),$.ajax({type:"GET",url:t,async:!0,success:function(t){void 0!==n&&""!==n&&StopLoading(n),e(t)},error:function(t,e){void 0!==n&&""!==n&&StopLoading(n),400===t.status||401===t.status?(console.log("StatusText: "+t.statusText+", Message: "+t.responseJSON.Message),SwalNotifyError(t.responseJSON.Message)):(t=void 0!==t.responseText?t.responseText:e,console.log(t),SwalNotifyError("Có lỗi xảy ra. Xin vui lòng thử lại sau hoặc thông báo với quản trị. Chi tiết: F12"))}})}function AjaxPostPartial(t,e,n){var o=void 0,r=void 0;null!=n&&(o=n.parameters,r=n.divLoading),void 0!==r&&""!==r&&StartLoading(r),$.ajax({type:"POST",url:t,contentType:"application/json; charset=utf-8",data:void 0===o?"":o,async:!0,crossDomain:!0,beforeSend:function(t){t.setRequestHeader("Content-Type","application/x-www-form-urlencoded")},success:function(t){void 0!==t.data&&(t=t.data),void 0!==r&&""!==r&&StopLoading(r),void 0!==e&&"function"==typeof e&&e(t)},error:function(t,e){void 0!==r&&""!==r&&StopLoading(r),400===t.status||401===t.status?(console.log("StatusText: "+t.statusText+", Message: "+t.responseText),t.responseText.includes("https://tools.ietf.org/html")?SwalNotifyError(JSON.parse(t.responseText).errors.Name.join(";")):SwalNotifyError(t.responseText)):(t=void 0!==t.responseText?t.responseText:e,console.log(t),SwalNotifyError("Có lỗi xảy ra. Xin vui lòng thử lại sau hoặc thông báo với quản trị. Chi tiết: F12"))}})}function AjaxFile(t,e,n){$.ajax({url:t,type:"POST",contentType:!1,processData:!1,data:e.parameters,success:function(t){n(t)},error:function(t,e,n){400===t.status||401===t.status?(console.log("StatusText: "+t.statusText+", Message: "+t.responseText),SwalMessage(t.responseText,"Thông báo",void 0,"error")):(t=void 0!==t.responseText?t.responseText:e,console.log(t),SwalNotifyError("Có lỗi xảy ra. Xin vui lòng thử lại sau hoặc thông báo với quản trị. Chi tiết: F12"))}})}function StartLoading(t){var e=$(t).height();e<50&&$(t).loading({message:'<img src="https://cdn.phudev.com/images/loading2.gif" width="30"></div>'}),e<100&&50<=e&&$(t).loading({message:'<img src="https://cdn.phudev.com/images/loading2.gif" width="50"></div>'}),e<200&&100<=e&&$(t).loading({message:'<img src="https://cdn.phudev.com/images/loading2.gif" width="70"> <div style="padding-left: 10px;">Đang tải...</div>'}),e<500&&200<=e&&$(t).loading({message:'<img src="https://cdn.phudev.com/images/loading2.gif" width="80"> <div style="padding-left: 10px;">Đang tải...</div>'}),500<=e&&$(t).loading({message:'<img src="https://cdn.phudev.com/images/loading2.gif" width="100"> <div style="padding-left: 10px;">Đang tải...</div>'})}function StopLoading(t){$(t).loading("stop")}function SwalNotifyError(t){toastr.error(t,"Lỗi")}function SwalNotifyWarning(t){toastr.warning(t,"Cảnh báo")}function SwalNotifySuccess(t){toastr.success(t,"Thành công")}function SwalNotifyInfo(t){toastr.info(t,"Thông tin")}function SwalMain(t,e){Swal.fire({title:t.title,html:t.html,width:t.width,footer:t.footer,icon:t.icon,confirmButtonText:t.textConfirm,cancelButtonText:t.textCancel,timer:t.timer,showCloseButton:t.showCloseButton,showCancelButton:t.showCancelButton,focusCancel:t.focusCancel,showConfirmButton:t.showConfirmButton,allowOutsideClick:t.allowOutsideClick,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger"}}).then(t=>{t.value&&e()})}function SwalMessage(t,e,n,o){ResetSwalDefault(),objSwal.html=t,objSwal.title=void 0===e?"Thông báo":e,objSwal.width=void 0===n?null:n,objSwal.icon=void 0===o?"warning":o,objSwal.showConfirmButton=!1,objSwal.focusCancel=!0,SwalMain(objSwal,null)}function SwalMessageDiv(t,e,n,o,r){ResetSwalDefault(),objSwal.html=$("#"+t).html(),objSwal.title=void 0===n?"Thông báo":n,objSwal.width=void 0===o?null:o,objSwal.icon=void 0===r?"question":r,objSwal.allowOutsideClick=!1,SwalMain(objSwal,e)}function SwalConfirm(t,e,n,o,r,a){ResetSwalDefault(),objSwal.html=t,objSwal.title=null==n?"Thông báo":n,objSwal.width=null==o?null:o,objSwal.icon=null==r?"question":r,objSwal.textConfirm=null==a?"Xác nhận":a,objSwal.allowOutsideClick=!1,SwalMain(objSwal,e)}function AlertMessSwal(t){Swal.fire({title:"Thông báo",html:t,icon:"warning",animation:!1,showCancelButton:!0,showConfirmButton:!1})}function SetCookie(t,e,n){var o=new Date,n=(o.setTime(o.getTime()+24*n*60*60*1e3),"expires="+o.toUTCString());document.cookie=t+"="+e+";"+n+";path=/"}function GetCookie(t){if(""===document.cookie)return"";var e=t+"=";try{for(var n=document.cookie.split(";"),o=0;o<n.length;o++){for(var r=n[o];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(e))return r.substring(e.length,r.length)}return""}catch(t){return""}}function CreateURL(t,e){if(void 0===t)return"";if(void 0===e)return t;var n,o=t+"?";for(n in e)e.hasOwnProperty(n)&&(o+=n+"="+e[n]+"&");return(o+"*").replace("&*","")}function IsSpaceString(t){for(var e=0;e<t.length;e++)if(0<=" ".indexOf(t[e]))return!0;return!1}function Is_String(t){for(var e=0;e<t.length;e++)if(0<="_".indexOf(t[e]))return!0;return!1}function IsInvalidUserName(t){Is_String(t)&&(t=t.replace(/_/g,""));return!!/^[a-zA-Z0-9]+$/.test(t)}function FormatMoney(t){var e=t.value;e=(e=(e=(e=(e=e.replace(/,/g,"")).reverse()).replace(/.../g,function(t){return t+","})).reverse()).replace(/^,/,""),t.value=e}String.prototype.reverse=function(){return this.split("").reverse().join("")};var FormatMoneyNew=function(t){for(var e=t.value,n=e.charAt(0),o=e.toString().replace("$",""),e=!1,r=[],a=1,i=0,s=(o=(o=0<o.indexOf(".")?(e=o.split("."))[0]:o).split("").reverse()).length;i<s;i++)","!=o[i]&&(r.push(o[i]),a%3==0&&i<s-1&&r.push(","),a++);e=r.reverse().join("")+(e?"."+e[1].substr(0,3):"");"-"==n&&(e=("-"+e).replaceAll("--","-")),t.value=e.replaceAll("--","-").replaceAll("-,","-")};function LoadComboboxApi(n,t,o,r,e,a,i,s,l,u){void 0===o&&(o=!1),void 0===u&&(u=0),void 0===l&&(l="");var c="",d=void 0,f=void 0;null!=e&&(d=e.parameters,f=e.divLoading),void 0!==f&&""!==f&&StartLoading(f),$.ajax({processData:!1,type:"GET",url:t,contentType:"application/json; charset=utf-8",data:void 0===d?"":d,dataType:"json",async:!1,crossDomain:!0,beforeSend:function(t){t.setRequestHeader("Content-Type","application/x-www-form-urlencoded")},success:function(t){void 0!==t.data&&(t=t.data),void 0!==f&&""!==f&&StopLoading(f),o&&(c=void 0===s?'<option selected="selected" value= "'+u+'">Tất cả</option>':'<option selected="selected" value= "'+u+'">'+s+"</option>");for(var e=0;e<t.length;e++)void 0!==r&&r===t[e][a]?c+='<option selected="selected" value=\''+t[e][a]+"'>"+t[e][i]+"</option>":c+="<option value='"+t[e][a]+"'>"+t[e][i]+"</option>";$(n).html(c),""!==l?$(n).select2({dropdownParent:$("#"+l)}):$(n).select2()},error:function(t,e){void 0!==f&&""!==f&&StopLoading(f),400===t.status||401===t.status?(console.log("StatusText: "+t.statusText+", Message: "+t.responseJSON.Message),SwalNotifyError(t.responseJSON.Message)):(t=void 0!==t.responseText?t.responseText:e,console.log(t),SwalNotifyError("Có lỗi xảy ra. Xin vui lòng thử lại sau hoặc thông báo với quản trị. Chi tiết: F12"))}})}function LoadComboboxUserApi(r,t,a,i,e,s,l,u,c,d,f,g){void 0===a&&(a=!1),void 0===f&&(f=""),void 0===g&&(g=0);var p="",n=void 0,h=void 0;null!=e&&(n=e.parameters,h=e.divLoading),void 0!==h&&""!==h&&StartLoading(h),$.ajax({processData:!1,type:"GET",url:t,contentType:"application/json; charset=utf-8",data:void 0===n?"":n,dataType:"json",async:!1,crossDomain:!0,beforeSend:function(t){t.setRequestHeader("Content-Type","application/x-www-form-urlencoded")},success:function(t){void 0!==t.data&&(t=t.data),void 0!==h&&""!==h&&StopLoading(h),a&&(p=void 0===d?"<option selected=\"selected\" data-user-avatar=''  data-user-des='' value= \""+g+'">Tất cả</option>':"<option selected=\"selected\" data-user-avatar=''  data-user-des='' value= \""+g+'">'+d+"</option>");for(var e=0;e<t.length;e++)void 0!==i&&i===t[e][s]?p+='<option selected="selected" data-user-avatar=\''+t[e][c]+"' data-user-des='"+t[e][u]+"' value='"+t[e][s]+"'>"+t[e][l]+"</option>":p+="<option data-user-avatar='"+t[e][c]+"'  data-user-des='"+t[e][u]+"' value='"+t[e][s]+"'>"+t[e][l]+"</option>";$(r).html(p);function n(t){if(!t.id)return t.text;var e=document.createElement("span"),n=t.element.getAttribute("data-user-avatar"),o="";return""!==n&&null!=n&&(o+='<img src="'+n+'" class="rounded-circle h-20px  w-20px me-2" alt="image"/>'),o+=t.text,e.innerHTML=o,$(e)}var o=t=>{if(!t.id)return t.text;var e=document.createElement("span"),n=t.element.getAttribute("data-user-avatar"),o=t.element.getAttribute("data-user-des"),r="";return r+='<div class="d-flex align-items-center">',""!==n&&null!=n&&(r+='<img src="'+n+'" class="rounded-circle h-40px  w-40px me-3" alt="image"/>'),r=r+'<div class="d-flex flex-column">'+("<span>"+t.text+"</span>"),""!==o&&null!=o&&(r+="<span>"+o+"</span>"),e.innerHTML=r=r+"</div>"+"</div>",$(e)};""!==f?$(r).select2({dropdownParent:$("#"+f),templateSelection:n,templateResult:o}):$(r).select2({templateSelection:n,templateResult:o})},error:function(t,e){void 0!==h&&""!==h&&StopLoading(h),400===t.status||401===t.status?(console.log("StatusText: "+t.statusText+", Message: "+t.responseJSON.Message),SwalNotifyError(t.responseJSON.Message)):(t=void 0!==t.responseText?t.responseText:e,console.log(t),SwalNotifyError("Có lỗi xảy ra. Xin vui lòng thử lại sau hoặc thông báo với quản trị. Chi tiết: F12"))}})}function LoadComboboxSearch(t,e,n,o,r,a,i,s,l){void 0===l&&(l=""),void 0===n&&(n=3),$(t).select2({minimumInputLength:n,dropdownParent:""!==l?$("#"+l):$("body"),ajax:{url:e,dataType:s,async:!0,crossDomain:!1,type:"GET",quietMillis:250,contentType:"application/json; charset=utf-8",data:function(t){return{q:t.term,page:t.page}},processResults:function(t){return{results:$.map(t,function(t){return{text:t[i],id:t[a]}})}},cache:!0}}),""!==o&&$(t).append(new Option(o,r,!0,!0)).trigger("change")}function LoadComboboxUserSearch(t,e,n,o,r,a,i,s,l,u,c){void 0===c&&(c=""),void 0===n&&(n=3);$(t).select2({minimumInputLength:n,dropdownParent:""!==c?$("#"+c):$("body"),ajax:{url:e,dataType:u,async:!0,crossDomain:!1,type:"GET",quietMillis:250,contentType:"application/json; charset=utf-8",data:function(t){return{q:t.term,page:t.page}},processResults:function(t){return{results:$.map(t,function(t){return{text:t[i],id:t[a],avatar:t[l],des:t[s]}})}},cache:!0},templateSelection:function(t){if(!t.id)return t.text;var e=document.createElement("span"),n=t.avatar,o="";return""!==n&&null!=n&&(o+='<img src="'+n+'" class="rounded-circle h-20px w-20px me-2" alt="image"/>'),o+=t.text,e.innerHTML=o,$(e)},templateResult:t=>{if(!t.id)return t.text;var e=document.createElement("span"),n=t.avatar,o=t.des,r="";return r+='<div class="d-flex align-items-center">',""!==n&&null!=n&&(r+='<img src="'+n+'" class="rounded-circle h-40px w-40px me-3" alt="image"/>'),r=r+'<div class="d-flex flex-column">'+("<span>"+t.text+"</span>"),""!==o&&null!=o&&(r+="<span>"+o+"</span>"),e.innerHTML=r=r+"</div>"+"</div>",$(e)}}),""!==o&&$(t).append(new Option(o,r,!0,!0)).trigger("change")}function LoadComboboxAsync(n,t,o,e,r,a,i,s,l,u,c){void 0===o&&(o=!1),void 0===e&&(e=!1),void 0===c&&(c=0),void 0===u&&(u=150);var d="";AjaxGetAsync(t,i,function(t){o&&(d='<option selected="selected" value= "'+c+'">Tất cả</option>');for(var e=0;e<t.length;e++)void 0!==r&&r===data[e][s]?d+='<option selected="selected" value=\''+data[e][s]+"'>"+data[e][l]+"</option>":d+="<option value='"+data[e][s]+"'>"+data[e][l]+"</option>";$("#"+n).html(d),void 0!==a&&$("#"+n).val(JSON.parse("["+a+"]")).trigger("chosen:updated")})}function LoadComboboxTagApi(n,t,o,e,r,a,i){void 0===i&&(i=""),void 0===o&&(o="");var s="",l=void 0,u=void 0;null!=e&&(l=e.parameters,u=e.divLoading),void 0!==u&&""!==u&&StartLoading(u),$.ajax({processData:!1,type:"GET",url:t,contentType:"application/json; charset=utf-8",data:void 0===l?"":l,dataType:"json",async:!1,crossDomain:!0,beforeSend:function(t){t.setRequestHeader("Content-Type","application/x-www-form-urlencoded")},success:function(t){void 0!==t.data&&(t=t.data),void 0!==u&&""!==u&&StopLoading(u);for(var e=0;e<t.length;e++)s+="<option value='"+t[e][r]+"'>"+t[e][a]+"</option>";$(n).html(s),""!==i?$(n).select2({createSearchChoice:function(t,e){return $(e).filter(function(){return 0===this.text.localeCompare(t)}).length,{id:"00000000-0000-0000-0000-000000000000",text:t}},dropdownParent:$("#"+i),multiple:!0,tags:!0}):$(n).select2({createSearchChoice:function(t,e){return $(e).filter(function(){return 0===this.text.localeCompare(t)}).length,{id:"00000000-0000-0000-0000-000000000000",text:t}},multiple:!0,tags:!0}),$(n).val(o).trigger("change")},error:function(t,e){void 0!==u&&""!==u&&StopLoading(u),400===t.status||401===t.status?(console.log("StatusText: "+t.statusText+", Message: "+t.responseJSON.Message),SwalNotifyError(t.responseJSON.Message)):(t=void 0!==t.responseText?t.responseText:e,console.log(t),SwalNotifyError("Có lỗi xảy ra. Xin vui lòng thử lại sau hoặc thông báo với quản trị. Chi tiết: F12"))}})}function Summernote(e,t){void 0===t&&(t=100),$(e).summernote({lang:"vi-VN",focus:!0,height:t,tabsize:2,toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["insert",["link","picture","video"]],["height",["height"]],["view",["fullscreen","codeview"]]],callbacks:{onImageUpload:function(t){UploadImage(t[0],e)}}})}function UploadImage(t,n){var e=new FormData;e.append("image",t),$.ajax({data:e,type:"POST",url:"/Home/UploadFileSummerNote",cache:!1,processData:!1,contentType:!1,success:function(t){var e=t.data;200===t.code?$(n).summernote("insertImage",e):ShowMessage(e,"Thông báo lỗi",550)},error:function(t,e,n){console.log("Error: "+t.responseText),ShowMessage("Có lỗi xảy ra. Xin vui lòng thử lại sau hoặc thông báo với quản trị.","Thông báo lỗi",550)}})}function MathRound(t){return Math.round(1e3*parseFloat(t))/1e3}function MathPercent(t,e){return 0===e?0:parseFloat((100*t/e).toFixed(1))}function ToFixed(t,e){return Number.parseFloat(t).toFixed(e)}function ReplaceJS(t){return t.replace(/\"/g,"'")}function ConvertStringMoneyToNumber(t){return t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")+" VNĐ"}function DateTimeNow(){return $.datepicker.formatDate("dd/mm/yy",new Date)}function ConvertDateSql(t){var e=t.substring(0,10).split("-"),t=t.substring(11,16);return e[2]+"/"+e[1]+"/"+e[0]+" "+t}function ConvertDateSqlToDateString(t){t=t.substring(0,10).split("-");return t[2]+"/"+t[1]+"/"+t[0]}function ConvertDateSqlToTimeString(t){return t.substring(11,16)}function CheckDateTime(t){try{var e=t.trim().split(" "),n=e[0].split("/"),o=e[1].split(":");return!(31<n[0]||12<n[1]||2099<n[2]||24<o[0]||60<o[1])}catch(t){return!1}}function ConvertDateTime(t){var e=t.substring(0,10).split("/"),t=t.substring(11,16);return new Date((e[2]+"-"+e[1]+"-"+e[0]+" "+t)?.trim())}function FormatDate(t){t=t.split("/");return t[2]+"/"+t[1]+"/"+t[0]}function FormatDateMMddyyyy(t){t=t.split("/");return t[2]+"/"+t[0]+"/"+t[1]}function ConvertStringToDate(t){t=t.split("/");return new Date(t[2]+"/"+t[1]+"/"+t[0])}function ConvertStringToDateTime(t){var t=t.trim().split(" "),e=t[0].split("/"),t=t[1].split(":");return new Date(e[2]+"/"+e[1]+"/"+e[0]+" "+t[0]+":"+t[1])}function ConvertDate(t){t=t.split("/");return t[2]+"/"+t[1]+"/"+t[0]}function ConvertDateFormat(t){var e=t.getDate();return t.getMonth()+1+"/"+e+"/"+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}function ConvertDateTimeFormat(t){return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)}function ConvertFulltimeToStr(t){var t=t.split("T"),e=t[0].substring(0,10).split("-"),e=e[2]+"/"+e[1]+"/"+e[0];return t[1].substring(0,8)+" "+e}function CheckNumber(t){return $.isNumeric(t)}function isNumber(t){t=(t=t||window.event).which||t.keyCode;return!(31<t&&(t<48||57<t))}function FormatMoneyVi(t){return t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}function ConvertMoney(t){return""===t||null==t?0:parseFloat(t.replace(/,/g,""))}function ForamatUsd(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t).replace("$","")}function FormatUsd(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t).replace("$","")}function CheckMoney(t){return""===t||null==t||CheckNumber(t.replace(/,/g,""))}function EncodeBase64(t){var u={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,o,r,a,i,s="",l=0;for(t=u._utf8_encode(t);l<t.length;)o=(e=t.charCodeAt(l++))>>2,r=(3&e)<<4|(e=t.charCodeAt(l++))>>4,a=(15&e)<<2|(n=t.charCodeAt(l++))>>6,i=63&n,isNaN(e)?a=i=64:isNaN(n)&&(i=64),s=s+this._keyStr.charAt(o)+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(i);return s},decode:function(t){var e,n,o,r,a,i,s="",l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)o=this._keyStr.indexOf(t.charAt(l++)),e=(15&(r=this._keyStr.indexOf(t.charAt(l++))))<<4|(a=this._keyStr.indexOf(t.charAt(l++)))>>2,n=(3&a)<<6|(i=this._keyStr.indexOf(t.charAt(l++))),s+=String.fromCharCode(o<<2|r>>4),64!==a&&(s+=String.fromCharCode(e)),64!==i&&(s+=String.fromCharCode(n));return s=u._utf8_decode(s)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?e+=String.fromCharCode(o):e=127<o&&o<2048?(e+=String.fromCharCode(o>>6|192))+String.fromCharCode(63&o|128):(e=(e+=String.fromCharCode(o>>12|224))+String.fromCharCode(o>>6&63|128))+String.fromCharCode(63&o|128)}return e},_utf8_decode:function(t){var e,n="",o=0;for(c1=c2=0;o<t.length;)(e=t.charCodeAt(o))<128?(n+=String.fromCharCode(e),o++):191<e&&e<224?(c2=t.charCodeAt(o+1),n+=String.fromCharCode((31&e)<<6|63&c2),o+=2):(c2=t.charCodeAt(o+1),c3=t.charCodeAt(o+2),n+=String.fromCharCode((15&e)<<12|(63&c2)<<6|63&c3),o+=3);return n}};return u.encode(t)}function DecodeBase64(t){var u={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,o,r,a,i,s="",l=0;for(t=u._utf8_encode(t);l<t.length;)o=(e=t.charCodeAt(l++))>>2,r=(3&e)<<4|(e=t.charCodeAt(l++))>>4,a=(15&e)<<2|(n=t.charCodeAt(l++))>>6,i=63&n,isNaN(e)?a=i=64:isNaN(n)&&(i=64),s=s+this._keyStr.charAt(o)+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(i);return s},decode:function(t){var e,n,o,r,a,i,s="",l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)o=this._keyStr.indexOf(t.charAt(l++)),e=(15&(r=this._keyStr.indexOf(t.charAt(l++))))<<4|(a=this._keyStr.indexOf(t.charAt(l++)))>>2,n=(3&a)<<6|(i=this._keyStr.indexOf(t.charAt(l++))),s+=String.fromCharCode(o<<2|r>>4),64!==a&&(s+=String.fromCharCode(e)),64!==i&&(s+=String.fromCharCode(n));return s=u._utf8_decode(s)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?e+=String.fromCharCode(o):e=127<o&&o<2048?(e+=String.fromCharCode(o>>6|192))+String.fromCharCode(63&o|128):(e=(e+=String.fromCharCode(o>>12|224))+String.fromCharCode(o>>6&63|128))+String.fromCharCode(63&o|128)}return e},_utf8_decode:function(t){var e,n="",o=0;for(c1=c2=0;o<t.length;)(e=t.charCodeAt(o))<128?(n+=String.fromCharCode(e),o++):191<e&&e<224?(c2=t.charCodeAt(o+1),n+=String.fromCharCode((31&e)<<6|63&c2),o+=2):(c2=t.charCodeAt(o+1),c3=t.charCodeAt(o+2),n+=String.fromCharCode((15&e)<<12|(63&c2)<<6|63&c3),o+=3);return n}};return u.decode(t)}function CheckContainerNumber(t){if(11!==t.length)return SwalNotifyError("Container '"+t+"' chưa đủ 11 ký tự. Kiểm tra lại!"),!1;var e=t.slice(0,4),n=t.slice(4,10),o=t.slice(10,11);if("U"!==e.charAt(3).toUpperCase())return SwalNotifyError("Ký tự cuối cùng của Tiếp đầu ngữ thường là chữ 'U'. Kiểm tra lại!"),!1;if(e.match(/[^a-z]/i))return SwalNotifyError("Tiếp đầu ngữ chỉ có thể là chữ cái!"),!1;if(isNaN(Number(n)))return SwalNotifyError("Số Sê-ri '"+n+"' không hợp lệ. Kiểm tra lại."),!1;t=t.toUpperCase();for(var r=new Array,a=0;a<10;a++)r[a]=t.charAt(a);for(var i=0;i<4;i++){var s=r[i],s="ABCDEFGHIJKLMNOPQRSTUVWXYZ".search(s);r[i]=[10,12,13,14,15,16,17,18,19,20,21,23,24,25,26,27,28,29,30,31,32,34,35,36,37,38][s]}for(var l=0,u=0;u<10;u++)r[u]=r[u]*Math.pow(2,u),l+=r[u];return 10===(e=l%11)&&(e=0),parseInt(o)===e||(SwalNotifyError("Số Container '"+t+"' không đúng. Vui lòng kiểm tra lại!"),!1)}function RoundToTwo(t){return+(Math.round(t+"e+2")+"e-2")}function copyToClipboard(t){var e=document.createElement("textarea");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),document.body.removeChild(e),SwalNotifySuccess("Đã Copy")}function isMobileDevice(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}function GetTimeFloat(t){return 30<=t.getMinutes()?parseFloat(t.getHours()+".5"):t.getHours()}function IsVietnameseString(t){for(var e=0;e<t.length;e++)if(0<="ÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ".indexOf(t[e]))return!0;return!1}function IsSpaceString(t){for(var e=0;e<t.length;e++)if(0<=" ".indexOf(t[e]))return!0;return!1}function IsInvalidUser(t){return!!/^[a-zA-Z0-9]+$/.test(t)}function FormatVietnameseNumber(t){if(isNaN(t))return!1;for(var e=t.toString().split("."),n=(t="",e[0]);0<n.length;){var o=n.length-3;o<0&&(o=0),0<t.length&&(t="."+t),t=n.substring(o)+t,n=n.substring(0,o)}return t=1<e.length?t+","+e[1]:t}function checkPhoneNumber(t){var e,n=!1;return""!==(t=(t=(t=(t=t.replace("(+84)","0")).replace("+84","0")).replace("0084","0")).replace(/ /g,""))&&("09"!==(e=t.substring(0,2))&&"08"!==e&&"03"!==e&&"07"!==e&&"05"!==e||10!==t.length?"01"===e&&11===t.length&&t.match(/^\d{11}/)&&(n=!0):t.match(/^\d{10}/)&&(n=!0)),n}function GetTextSelect2(t,e){void 0===e&&(e=", ");for(var n="",o=$("#"+t).select2("data"),r=0;r<=o.length-1;r++)n+=o[r].text+e;return(n+e).replace(e+e,"")}function Distinct(t,e,n){return n.indexOf(t)===e}function validateFloatKeyPress(t,e){var e=e.which||event.keyCode,n=t.value.split(".");if(45!=e&&46!=e&&31<e&&(e<48||57<e))return!1;if(1<n.length&&46==e)return!1;e=getSelectionStart(t),t=t.value.indexOf(".");return!(t<e&&-1<t&&3<=n[1].length)}function getSelectionStart(t){var e;return t.createTextRange?((e=document.selection.createRange().duplicate()).moveEnd("character",t.value.length),""==e.text?t.value.length:t.value.lastIndexOf(e.text)):t.selectionStart}function KeyupNumber(t){$("#"+t).keypress(function(t){8!=t.which&&isNaN(String.fromCharCode(t.which))&&t.preventDefault()})}function KeyupText(t){t=document.getElementById(t);console.log(t),t.addEventListener("keypress",function(t){var e=t.which||t.keyCode;48<=e&&e<=57&&t.preventDefault()})}var a=["","one ","two ","three ","four ","five ","six ","seven ","eight ","nine ","ten ","eleven ","twelve ","thirteen ","fourteen ","fifteen ","sixteen ","seventeen ","eighteen ","nineteen "],b=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];function inWordsContainer(t){if(9<(t=t.toString()).length)return"overflow";var e;if(n=("000000000"+t).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/))return e="",(e=(e=(e=(e=(e+=0!=n[1]?(a[Number(n[1])]||b[n[1][0]]+" "+a[n[1][1]])+"crore ":"")+(0!=n[2]?(a[Number(n[2])]||b[n[2][0]]+" "+a[n[2][1]])+"lakh ":""))+(0!=n[3]?(a[Number(n[3])]||b[n[3][0]]+" "+a[n[3][1]])+"thousand ":""))+(0!=n[4]?(a[Number(n[4])]||b[n[4][0]]+" "+a[n[4][1]])+"hundred ":""))+(0!=n[5]?(""!=e?"and ":"")+(a[Number(n[5])]||b[n[5][0]]+" "+a[n[5][1]])+"("+t+") container(s) only ":"")).toUpperCase()}function checkItemInAttribute(t,e){if(""!=t&&null!=t&&null!=t)for(var n=t.split(" "),o=0;o<n.length;o++)if(n[o]==e)return!0;return!1}function addAttr(t,e){return t+" "+e}function removeAttr(t,e){return t.replace(e,"")}function ConvertDateTimeToString(t){return $(t).val().split(" ")[0].split("/").reverse().join("/")+" "+$(t).val().split(" ")[1]}function GetTimeDiff(t){var e=t.substring(0,10),n=t.substring(11,16),t=(t=void 0!==t?new Date(e+"T"+n+":00"):new Date).getTime(),e=(new Date).getTime();if(isNaN(t))return"";t=(n=t<e?e-t:t-e)/1e3/60/60/24,e=n/1e3/60/60,n=n/1e3/60;return 0<Math.floor(t)?30<Math.floor(t)?Math.floor(Math.floor(t)/30)+" tháng":Math.floor(t)+" ngày":0==Math.floor(t)&&0<Math.floor(e)?6<Math.floor(e)?Math.floor(e)+" giờ ":Math.floor(e)+" giờ "+(Math.floor(n)-60*Math.floor(e))+" phút":0!=Math.floor(t)||0!=Math.floor(e)||Math.floor(n)<=1?"new":Math.floor(n)+" phút"}function ClipBroardId(t){const n=document.getElementById(t);new ClipboardJS(n.nextElementSibling,{target:n,text:function(){return n.value}}).on("success",function(t){const e=n.nextElementSibling.innerHTML;"Copied!"!==n.nextElementSibling.innerHTML&&(n.nextElementSibling.innerHTML="Copied!",setTimeout(function(){n.nextElementSibling.innerHTML=e},3e3))})}function LoadInputmask(){$(".inputmask-datetime").inputmask("datetime",{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",separator:"/",alias:"dd/mm/yyyy"}),$(".inputmask-time").inputmask("datetime",{mask:"h:s",placeholder:"hh:mm",alias:"hh:mm"})}function LoadFlatpickr(){$(".input-datetime").flatpickr({enableTime:!0,dateFormat:"d/m/Y H:i",altFormat:"d/m/Y H:i",locale:"vn",allowInput:!0,altInput:!0,time_24hr:!0}),$(".input-daterange").flatpickr({allowInput:!0,altInput:!0,altFormat:"d/m/Y",dateFormat:"d/m/Y",mode:"range",locale:"vn"}),$(".input-date").flatpickr({enableTime:!1,allowInput:!0,altInput:!0,dateFormat:"d/m/Y",altFormat:"d/m/Y",locale:"vn"})}function SetDatetimeFlatpickr(t,e){window.flatpickr(t,{enableTime:!0,dateFormat:"d/m/Y H:i",altFormat:"d/m/Y H:i",locale:"vn",allowInput:!0,altInput:!0,time_24hr:!0}).setDate(ConvertDateSql(e),!0,"d/m/Y H:i")}function SetTimeFlatpickr(t,e){window.flatpickr(t,{enableTime:!0,noCalendar:!0,dateFormat:"H:i",altFormat:"H:i",locale:"vn",time_24hr:!0,allowInput:!0,altInput:!0}).setDate(e,!0,"H:i")}function SetDateRangeFlatpickr(t,e){window.flatpickr(t,{allowInput:!0,altInput:!0,altFormat:"d/m/Y",dateFormat:"d/m/Y",mode:"range",locale:"vn"}).setDate(e,!0,"d/m/Y")}function SetDateFlatpickr(t,e){window.flatpickr(t,{enableTime:!1,allowInput:!0,altInput:!0,dateFormat:"d/m/Y",altFormat:"d/m/Y",locale:"vn"}).setDate(ConvertDateSqlToDateString(e),!0,"d/m/Y")}function GetDate(t){t=$(t).val().substring(0,10).split("/");return new Date((t[2]+"-"+t[1]+"-"+t[0]+"T00:00:00.000Z")?.trim())}function GetDateTime(t){var t=$(t).val(),e=t.substring(0,10).split("/"),t=t.substring(11,16);return new Date(e[2]+"-"+e[1]+"-"+e[0]+"T"+t+":00.000Z")}function GetTime(t){return $(t).val()}function GetDateFlatpickr(t){return GetDate(t)}function GetDateTimeFlatpickr(t){return GetDateTime(t)}function GetTimeFlatpickr(t){return GetTime(t)}function RenameFileName(t){if(""===t)return"";var e=t.split("."),n=e[0].split("]")[1].split("-");return 3<=n.length?n[0]+"-"+n[1]+" ..."+n[n.length-1]+"."+e[1]:2===n.length?n[0]+"-"+n[1]+"."+e[1]:n.length<2?n[0]+"."+e[1]:t}function ValidateEmail(t){if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t))return SwalNotifyWarning("Địa chỉ Email không hợp lệ!"),$("#Email").focus(),!1}function GetHourInDay(t){return t<=0?0:t<=5.5&&0<t?.5:1}function RoundHour(t){return t<=30?0:t<=60&&30<t?.5:1}function CalculateWorkingDays(t,e){var n=ConvertStringToDateTime(t),t=ConvertStringToDateTime(t),o=ConvertStringToDateTime(e),e=ConvertStringToDateTime(e),r=0,a=0;if(isNaN(n.getTime())||isNaN(o.getTime()))return-1;if(o<n)return-1;if(n.getTime()-o.getTime()==0)return-1;if(6==n.getDay()&&0==o.getDay()&&n.getDate()==o.getDate())return-1;if((o-n)/1e3/60/60<24){if(17<=t.getHours()||e.getHours()<=8)return-1;if(!(t.getHours()<=8&&17<=e.getHours()))return GetHourInDay(a+=(o.getTime()-n.getTime())/1e3/60/60);r+=1}else if(0!==n.getDay()&&6!==n.getDay()&&n.getTime()<=new Date(t.setHours(8,0,0,0)).getTime()?r+=1:0!==n.getDay()&&6!==n.getDay()&&n.getTime()>new Date(t.setHours(8,0,0,0)).getTime()&&n.getTime()<=new Date(t.setHours(17,0,0,0)).getTime()&&(a+=(new Date(t.setHours(17,0,0,0)).getTime()-n.getTime())/1e3/60/60),0!==o.getDay()&&6!==o.getDay()&&o.getTime()>=new Date(e.setHours(17,0,0,0)).getTime()?r+=1:0!==o.getDay()&&6!==o.getDay()&&o.getTime()>=new Date(e.setHours(8,0,0,0)).getTime()&&o.getTime()<new Date(e.setHours(17,0,0,0)).getTime()&&(a+=(o.getTime()-new Date(e.setHours(8,0,0,0)).getTime())/1e3/60/60),0<a&&a<=9?r+=GetHourInDay(a):9<a&&(r=(t=Math.trunc(a/9))+GetHourInDay(a-9*t)),1<(o-n)/1e3/60/60/24){n.setHours(0,0,0,1),o.setHours(0,0,0,1);for(var i=new Date(n.setDate(n.getDate()+1)),s=new Date(o.setDate(o.getDate()-1));i<=s;)0!==i.getDay()&&6!==i.getDay()&&r++,i.setDate(i.getDate()+1)}return r}function CalculateHours(t,e){var n=ConvertStringToDateTime(t),t=ConvertStringToDateTime(t),e=ConvertStringToDateTime(e);if(isNaN(n)||isNaN(e))return-1;if(e<=(t=new Date(t.setHours(17,30,0,0))))return-1;if(1<(e-(n=n<t?t:n))/1e3/60/60/24)return-1;t=n.getTime(),n=(e.getTime()-t)/1e3/60,e=n/60;return 0===n?0:n<=60?RoundHour(n):(t=Math.trunc(e))+RoundHour(n-=60*t)}getHtmlView=function(t){t=$.get({url:t,async:!1});return 200==t.status?$(t.responseText):$(void 0)};